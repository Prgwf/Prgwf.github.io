<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>TwoSAT小结 | Weifeng</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">TwoSAT小结</h1><a id="logo" href="/.">Weifeng</a><p class="description">教练我要找实习！</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Start</i></a><a href="/archives/"><i class="fa fa-archive"> Archiv</i></a><a href="/about/"><i class="fa fa-user"> Über</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">TwoSAT小结</h1><div class="post-meta">Aug 29, 2017<span> | </span><span class="category"><a href="/categories/algorithm/">algorithm</a></span></div><div class="post-content"><p>挑战上是这样定义的：<br>给定一个布尔方程，判断是否存在一组布尔变量的真值指派使整个方程为真的问题，称之为布尔方程的可满足性问题(SAT)。<br>$$<br>(a \vee b \vee …) \wedge (c \vee d \vee …) \wedge …<br>$$<br>如果所有()中最多两个布尔变量，那就是一个<code>2-SAT</code>问题。</p>
<p>用刘大爷的话说就是：有$n$个布尔变量$x_i$,另有$m$个需要满足的条件，每个条件的形式都是”$x_i$为真(假)或$x_j$为真(假)”。</p>
<p>我看了刘大爷的例题上的建图方法，我猜测<code>add_clause(x, xval ^ 1, y, yval ^ 1)</code>这个表示$x$取$xval$这个值和$y$取$yval$这个值冲突，所以我加边的时候都是加冲突的情况。做了几个题下来这样建图到也问题不大。</p>
<h3 id="POJ3207"><a href="#POJ3207" class="headerlink" title="POJ3207"></a>POJ3207</h3><p>一个圆周上顺序的标了$N$个点，给出$M$个条件，每个条件是使两个点在圆内或圆外连线，求是否出现线相交的情况。</p>
<p>首先把条件给的两个点换成一条线。<br>$0$表示在圆内连线<br>$1$表示在圆外连线<br>当一条边的一个端点在另一条的两个端点之间，另一个端点在外边的时候，是相交的。<br>对于可能会相交的两条线$p, q$，加边。<br><code>add_clause(p, 0 ^ 1, q, 0 ^ 1); add_clause(p, 1 ^ 1, q, 1 ^ 1);</code><br>表示它们同时在圆内或者圆外连线是冲突的。</p>
<p><a href="https://github.com/Prgwf/solve/blob/master/POJ/POJ3207.cpp" target="_blank" rel="noopener">代码</a></p>
<h3 id="POJ3683"><a href="#POJ3683" class="headerlink" title="POJ3683"></a>POJ3683</h3><p>有$N$对新人结婚，每对有两个时间段,$S_i \sim S_i+D_i$和$T_i-D_i \sim Ti$。求所有时间能否不重叠。</p>
<p>$0$表示第$i$对在$S_i \sim S_i+D_i$这个时间结婚<br>$1$表示第$i$对在$T_i-D_i \sim T_i$这个时间结婚<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">hit</span><span class="params">(<span class="keyword">int</span> xstart, <span class="keyword">int</span> xend, <span class="keyword">int</span> ystart, <span class="keyword">int</span> yend)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (xend &lt;= ystart || yend &lt;= xstart) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>两两判断一下，一共四种情况，有冲突就加边。</p>
<p><a href="https://github.com/Prgwf/solve/blob/master/POJ/POJ3683.cpp" target="_blank" rel="noopener">代码</a></p>
<h3 id="POJ3678"><a href="#POJ3678" class="headerlink" title="POJ3678"></a>POJ3678</h3><p>给一些点对和$and, or, xor$中某个运算，告诉你他们之间的结果$0$或$1$。求是否冲突。</p>
<p>and:x, y都为真时值才为真</p>
<ul>
<li><p><code>x and y = 1</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">add_clause(x, 1 ^ 1, y, 0 ^ 1);</span><br><span class="line">add_clause(x, 0 ^ 1, y, 1 ^ 1);</span><br><span class="line">add_clause(x, 0 ^ 1, y, 0 ^ 1);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>x and y = 0</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">add_clause(x, 1 ^ 1, y, 1 ^ 1);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>or:x, y都为假时值才为假</p>
<ul>
<li><p><code>x or y = 1</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">add_clause(x, 0 ^ 1, y, 0 ^ 1);</span><br></pre></td></tr></table></figure>
<p><code>x or y = 0</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">add_clause(x, 1 ^ 1, y, 0 ^ 1);</span><br><span class="line">add_clause(x, 0 ^ 1, y, 1 ^ 1);</span><br><span class="line">add_clause(x, 1 ^ 1, y, 1 ^ 1);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>xor:x, y不同时值为真，相同时值为假</p>
<ul>
<li><p><code>x xor y = 1</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">add_clause(x, 1 ^ 1, y, 1 ^ 1);</span><br><span class="line">add_clause(x, 0 ^ 1, y, 0 ^ 1);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>x xor y = 0</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">add_clause(x, 1 ^ 1, y, 0 ^ 1);</span><br><span class="line">add_clause(x, 0 ^ 1, y, 1 ^ 1);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><a href="https://github.com/Prgwf/solve/blob/master/POJ/POJ3678.cpp" target="_blank" rel="noopener">代码</a></p>
<h3 id="POJ3648"><a href="#POJ3648" class="headerlink" title="POJ3648"></a>POJ3648</h3><p>这个剧情比复杂。简单来说就是一对新人结婚，请了一些夫妻。有一个很长的板凳，成对的男女不能坐在同侧，给出一些淫乱的关系，他们不能同时坐在新娘子对面，求有没有这样一种坐法。</p>
<p>$0$表示$i$这对夫妻中的丈夫坐新娘子对面<br>$1$表示$i$这对夫妻中的妻子坐新娘子对面<br>按上面定义的01的意义已经保证了不会出现成对的男女出现在板凳同侧的情况了。那么只要处理淫乱的情况就行了。比如x的husband和y的husband是淫乱关系，那么他们不能同时坐在新娘子对面。那么就按之前赋予的意义加边<code>add_clause(x, 0 ^ 1, y, 0 ^ 1);</code><br>最后还要加一条<code>add_clause(0, 1 ^ 1, 0, 1 ^ 1);</code>为了让新娘和新郎不在同侧，挺迷的。</p>
<p><a href="https://github.com/Prgwf/solve/blob/master/POJ/POJ3648.cpp" target="_blank" rel="noopener">代码</a></p>
<h3 id="POJ2723"><a href="#POJ2723" class="headerlink" title="POJ2723"></a>POJ2723</h3><p>剧情也挺长的：$2N$把钥匙，有$M$层的一个类似迷宫的玩意，每层有一个门，门上有两个锁只要随意打开一个就可以通过到上一层，但是$2N$把锁是分成了$N$对，也就是选了一对中的某一把，另一把就彻底消失了，被选的那把可以一直用，问最多可以去到几层。</p>
<p>$0$表示不用i这把锁<br>$1$表示用i这把锁<br>一开始的$N$对都加边<code>add_clause(x, 1 ^ 1, y, 1 ^ 1);</code>表示其中两把都用是冲突的。<br>由于数据小而且是一层一层上去的，所以我就没有用二分去搞，直接就每有一个冲突的条件我就加一次边<code>add_clause(x, 0 ^ 1, y, 0 ^ 1);</code>表示两个锁都不开是冲突的，然后跑一次DFS标记一旦false了就结束。</p>
<p><a href="https://github.com/Prgwf/solve/blob/master/POJ/POJ2723.cpp" target="_blank" rel="noopener">代码</a></p>
<h3 id="POJ2749"><a href="#POJ2749" class="headerlink" title="POJ2749"></a>POJ2749</h3><p>这个剧情也是很烦：给两个中转站的坐标，再给一些点的坐标，这些点要和其中一个中转站相连，但这些点中有些点不能连在同一个中转站，有些点必须连在同一个中转站，让你最小化任意两个农场通过中转站的最大距离，这个题的距离是曼哈顿距离。</p>
<p>$0$表示连$0$这个中转站<br>$1$表示连$1$这个中转站<br>直接二分答案，判断是否冲突加边，一种冲突是距离大于了当前二分出的值，另一种就是题意给出的。</p>
<p><a href="https://github.com/Prgwf/solve/blob/master/POJ/POJ2749.cpp" target="_blank" rel="noopener">代码</a></p>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p>这个坑也是拖了太久，刚开始的时候不是很懂刘大爷的模板怎么用，网上很多题解也是各种各样的方法，<code>tarjan</code>的，两遍<code>DFS</code>的都有，但是做了几个题之后发现这个<code>2-SAT</code>还是挺套路的一个东西，主要是看出题目是一个<code>2-SAT</code>，然后给0,1布尔值赋一个意义，然后用冲突建个图，最后跑一下模板就好了。<br>嗨呀，就是这么愉快的水了发博客，但是最近好懒，都不怎么想写。</p>
</div><div class="tags"><a href="/tags/连通性/">连通性</a><a href="/tags/2-SAT/">2-SAT</a></div><div class="post-nav"><a class="pre" href="/2017/09/14/FFT学习小结/">FFT学习小结</a><a class="next" href="/2017/07/30/C++_Primer_chap4/">C++ Primer chap4</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://yoursite.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Kategorien</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/algorithm/">algorithm</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/algorithm/Codeforces/">Codeforces</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/algorithm/Wannafly/">Wannafly</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/learning/">learning</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/life/">talk to myself</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/2-SAT/" style="font-size: 15px;">2-SAT</a> <a href="/tags/C/" style="font-size: 15px;">C++</a> <a href="/tags/组合数学/" style="font-size: 15px;">组合数学</a> <a href="/tags/放球模型/" style="font-size: 15px;">放球模型</a> <a href="/tags/DP/" style="font-size: 15px;">DP</a> <a href="/tags/bitset/" style="font-size: 15px;">bitset</a> <a href="/tags/线段树/" style="font-size: 15px;">线段树</a> <a href="/tags/表达式树/" style="font-size: 15px;">表达式树</a> <a href="/tags/DLX/" style="font-size: 15px;">DLX</a> <a href="/tags/Math/" style="font-size: 15px;">Math</a> <a href="/tags/FFT/" style="font-size: 15px;">FFT</a> <a href="/tags/连通性/" style="font-size: 15px;">连通性</a> <a href="/tags/ArchLinux/" style="font-size: 15px;">ArchLinux</a> <a href="/tags/Stirling数/" style="font-size: 15px;">Stirling数</a> <a href="/tags/domjudge/" style="font-size: 15px;">domjudge</a> <a href="/tags/inner/" style="font-size: 15px;">inner</a> <a href="/tags/思维/" style="font-size: 15px;">思维</a> <a href="/tags/最短路/" style="font-size: 15px;">最短路</a> <a href="/tags/分治/" style="font-size: 15px;">分治</a> <a href="/tags/dfs序/" style="font-size: 15px;">dfs序</a> <a href="/tags/树链剖分/" style="font-size: 15px;">树链剖分</a> <a href="/tags/扫描线/" style="font-size: 15px;">扫描线</a> <a href="/tags/网络流/" style="font-size: 15px;">网络流</a> <a href="/tags/鸽巢原理/" style="font-size: 15px;">鸽巢原理</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Letzte</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/05/28/CF981D-E/">CF981D/E补题</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/27/树分治/">树分治</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/30/Codeforces935E/">Codeforces935E</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/26/DLX/">Dancing Links</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/25/网络流的一些套路/">网络流的一些套路</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/16/domjudge配置/">domjudge配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/05/C++_Primer_chap5-6/">C++ Primer chap5&6</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/01/11/最短路判负环/">最短路判负环</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/01/08/Codeforces-Round-456/">Codeforces Round 456</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/13/从头开始之思维训练/">从头开始之基础思维训练</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">Weifeng.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.css"><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
  });
</script><script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-MML-AM_CHTML" async></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>